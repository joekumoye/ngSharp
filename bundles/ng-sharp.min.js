(function(){var n=angular.module("ngSharp",["ngAnimate","ui.router"])})(),function(){"use strict";angular.module("ngSharp").provider("$list",function(){var n={data:null,where:function(n){var r=this.data,u=[],t,i,f;if(n&&n!=null&&n!=""&&n!=[])for(t=0;t<r.length;t++){if(i=!1,angular.isArray(n)){if(n.length==0)i=!0;else for(f=0;f<n.length;f++)if(i=$parse(n[f])(r[t]),i!=!0)break}else i=$parse(n)(r[t]);i==!0&&u.push(r[t])}else u=r;return u.length!=0?u:null},whereIn:function(n,t){for(var f,r,u=this.data,e=[],i=0;i<u.length;i++)f=!1,r=$parse(n)(u[i]),(r!=null&&r.indexOf(t)>=0||$parse(t)(r)==!0)&&(f=!0),f==!0&&e.push(u[i]);return e},sum:function(n){var i=this.data,r=0,t;if(n)for(t=0;t<i.length;t++)r+=i[t][n];else for(t=0;t<i.length;t++)r+=i[t];return r},contains:function(){},first:function(n){var t=n?this.where(n):this.data;return t!=null?t[0]:null},last:function(){},select:function(n){var i,r,t;if(typeof n=="string"||n instanceof String){for(i=this.data,r=[],t=0;t<i.length;t++)r.push(i[t][n]);return r}throw"Invalid parameter type in select method. Use string value instead";},selectMany:function(n){var t,e,r;if(typeof n=="string"||n instanceof String){var i=this.data,u=n.split(","),f=[];for(t=0;t<i.length;t++){e={};for(r in u)e[r]=i[t][r];f.push(i[t][u[0]])}return f}throw"Invalid parameter type in select method. Use string value instead";},unique:function(n){var u=this.data,i={},r=[],t;if(n)for(t=0;t<this.data.length;t++)i[this.data[t][n]]||(i[this.data[t][n]]=!0,r.push(this.data[t]));else for(t=0;t<this.data.length;t++)i[this.data[t]]||(i[this.data[t]]=!0,r.push(this.data[t]));return r}};return{$get:function(){return function(t){var i={};for(var r in n)i[r]=n[r];return i.data=t,i}}}})}(),function(){angular.module("ngSharp").provider("$mvc",function(){return{$get:function(){return{configure:function(){},settings:{}}}}})}(),function(){"use strict";angular.module("ngSharp").provider("$string",function(){return{$get:function(){return{format:function(){if(!arguments)throw"$string.format() has no overload method that takes no parameter";if(arguments.length<=1)throw"$string.format() requires at least 2 arguments";var n=arguments[0],t=[].slice.call(arguments,1,arguments.length);return n.replace(/\{(\d)\}/g,function(n){return t[parseInt(n.substring(1,n.length-1))]})}}}}})}(),function(){angular.module("ngSharp").directive("fileModel",["$parse",function(n){return{restrict:"A",link:function(t,i,r){var u=n(r.fileModel),f=u.assign;i.bind("change",function(){i.files&&t.$apply(function(){f(t,i[0].files[0])})})}}}])}(),function(){angular.module("ngSharp").directive("ngAlias",["$parse",function(n){return{restrict:"A",link:function(t,i,r){var u=r.ngAlias.split(",");angular.forEach(u,function(i){var r=i.split("="),f=r[0].trim(),u=r[1].trim();t.$watch(u,function(){n(i)(t)})})}}}])}(),function(){angular.module("ngSharp").directive("ngDisableIf",function(){return function(n,t,i){n.startWatching=function(t){n.$statusWatch=n.$watch(t,function(n){i.$set("disabled",String(n)==String(i.ngDisableIf)?"disabled":undefined)},!1)};n.stopWatching=function(){n.$statusWatch()};n.$watch(i.ngWatchOn,function(t){n.$statusWatch&&n.stopWatching();n.startWatching(t)},!1)}})}(),function(){angular.module("ngSharp").directive("ngDroplet",["$parse",function(n){return{restrict:"A",scope:{},requires:"fileModel",template:'<div class="droplet" ng-class="{fileHover: hoverWhenEnabled}" ng-disabled="isDisabled"><div><div class="dropletFrameStyle" ng-disabled="isDisabled"><img src="Assets/images/upload-icon.png" class="pull-left dropletIcon" /><span class="dropletText" ng-bind="displayText" ng-disabled="isDisabled"><\/span><br /><div ng-disabled="isDisabled" class="dropletContainerStyle">or <span class="btn btn-primary btn-sm" ng-disabled="isDisabled">Browse<\/span> for it <br /><small><span>{{filePattern}} accepted<\/span><\/small><input type="file" ng-disabled="isDisabled" class="dropletFileStyle" onchange="angular.element(this).scope().setFiles(this)" onclick="this.value=null" /><\/div><div><\/div><\/div>',link:function(t,i,r){var u,f;t.filePattern=r.ngPattern.match(/[.a-z]+/gi).join(", ")||"*.*";t.$parent.$watch(r.ngDisabled,function(n){t.isDisabled=n?!0:undefined});u=i[0];t.displayText=r.ngText;f=function(n){n.preventDefault();n.stopPropagation()};u.addEventListener("dragenter",f,!1);u.addEventListener("dragleave",f,!1);u.addEventListener("dragover",function(n){n.preventDefault();n.stopPropagation();var i=n.dataTransfer&&n.dataTransfer.types&&n.dataTransfer.types.indexOf("Files")>=0;t.hoverWhenEnabled=!t.isDisabled&&i},!1);u.addEventListener("drop",function(n){n.preventDefault();n.stopPropagation();var i=n.dataTransfer.files;t.isDisabled||t.setFiles(n.dataTransfer)},!1);t.setFiles=function(i){console.log("dropped",i);i.files&&i.files.length&&i.files.length>0&&t.$apply(function(){var u=new RegExp(r.ngPattern);u.test(i.files[0].name)?(t.selectedFile=i.files[0],n(r.fileModel+" = value")(t.$parent,{value:t.selectedFile}),n(r.ngFileDrop)(t.$parent)):(alert("File Format not Allowed"),t.selectedFile=null)})}}}}])}(),function(){angular.module("ngSharp").directive("ngPrefix",[function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){function u(n){if(n)return n=n.replace(/^0+/,""),n&&n.indexOf(i.ngPrefix)!=0?(r.$setViewValue(i.ngPrefix+n),r.$render(),i.ngPrefix+n):n}var f=i.ngPrefix;r.$formatters.push(u);r.$parsers.push(u)}}}])}(),function(){angular.module("ngSharp").directive("ngUniqueIn",["$parse","$list","$string",function(n,t,i){return{restrict:"A",require:"ngModel",link:function(r,u,f,e){var o=n(f.ngUniqueIn)(r),h=f.ngModel.indexOf("."),s=f.ngModel.substring(h+1,f.ngModel.length),c=t(o).select(s);e.$parsers.unshift(function(n){var r=t(o).where(i.format("{0} == '{1}'",s,n)),u=r==null||r!=null&&r.length<1;return e.$setValidity("$isUnique",u),u?n:undefined});e.$formatters.unshift(function(n){var r=t(o).where(i.format("{0} == '{1}'",s,n)),u=r==null||r!=null&&r.length<=1;return e.$setValidity("$isUnique",u),n})}}}])}(),function(){angular.module("ngSharp").controller("$mvcController",["$rootScope","$scope","$parse","$state",function(n,t,i,r){t.$parent.resolve=function(n){return i(n)(t)};t.currentState=r.current.name;t.submitAction=r.current.name.replace("app.","")+".post(params)";t.submit=function(r){n.$broadcast("$activity",{event:"submit",params:r});i(t.submitAction)(t,{params:r})};t.do=function(t,i){n.$broadcast("$activity",{event:t,params:i})};t.$on("$stateChangeSuccess",function(n,r,u){var f=r.name,e=f.replace("app.",""),o=e+".get(params)";i(o)(t,{params:u})})}])}();
//# sourceMappingURL=ng-sharp.min.js.map
